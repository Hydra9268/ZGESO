# ZGESO

<img src="https://imgur.com/0J1VYya.png">

A Public Domain leveling guide produced by Zygor Guides, updated and maintained by Hydra9268. The purpose of this project is to add leveling guides for new content and extend the life for as long as ESO is available.

* Zygor's Discontinued support announcement: https://zygorguides.com/blog/zygor-guides-elder-scrolls-online-guides-going-free-use/
* Zygor staff okaying community development: http://zygorguides.com/forum/showthread.php?21769-Summerset-Question&p=121501&viewfull=1#post121501
<br/>

----

<img src="https://i.imgur.com/27kT29T.png">

Install through the excellent add-on manager <a href="https://minion.mmoui.com/" target="blank">Minion</a>

#### Libraries Required

* LibGPS, LibMapPing, LibDebugLogger, LibChatMessage<br/><br/>

----

<br/>
# 11/15/2021 Coming Soon Main Quest Only Legacy Guides and Skyshards, Delves, and Lorebooks Only Guides.

### 10/31/21 Remaster All DLCs guides and Deadlands DLC Guide.
<img src="https://imgur.com/0J1VYya.png">
<i>artwork &copy; ZeniMax Media</i>

### Recent Updates
# 2021/11/2 Changelog 949
* Fixed Vulkhel Guard Map issues in Blackwood Prologue guide.

# 2021/10/31 Changelog 947
* Deadlands DLC Guide Added.
* Include Skyshards, Delves and all quests.

# Remastered Guides
Wrothgar
* Added Skyshards, Delves, and Missing Quests
* Reorganized quest order to have sidequests done along side storyline to speed up guide.

Thieves Guild
* Added Skyshards, Delves, and Faction commands for certain quests that require it.

Dark Brotherhood
* Added Skyshards ,Delves, and Added missing quests.

Vvardenfell
* Added Prologue, Skyshards, Delves, Missing Quests, and Clarification steps.

Clockwork City
* Added Prologue, Skyshards, Delves, Missing Quests, and Clarification steps.

Summerset
* Added Prologue, Missing Quests, Skyshards, Delves, and Commands to steps to alieviate alot of Manual skips

Murkmire
* Added Prologue, Missing Quests, Skyshards, Delves
* Commands to steps to alieviate alot of Manual --skips

Northern Elsweyr
* Added Prologue, Missing Quest, Skyshards, Delves, Commands to steps to alieviate alot of Manual skips
* Reordered Quest for faster guide

Blackwood
* Removed Companion quests from main guide and moved them into miscellanous
* Each Companion has its own guide now.

# 2021/07/24 Changelog 891
New Guides
* Blackwood Companions stand-alone guide
* Blackwood guide updated to skip companion quests if completed in the stand-alone guide

Remastered Guides*
* Vvardenfell (Morrowind)

Aldmeri Dominion
* Khenarthi's Roost, Auridon, Grahtwood, Greenshade, Malabal Tor, Reapers March

Daggerfall Covenant
* Stros M'Kai, Betnikh, Glenumbra, Stormhaven, Rivenspire, Alik'r Desert, Bangkorai

Ebonheart Pact
* Bleakrock Isle, Bal Foyen, Deshaan, Eastmarch, Shadowfen, Stonefalls
* Coldharbour

Updates and Additions
* The Wailing Prison guide update
* Tooltip added to the "Start Guide" button warning about losing progress if changing guides
* Small updates to the Blackwood guide
* In the Controls menu, "Leveling Guides Viewer" now appears as "Community Leveling Guides"

Fixes
* Fixed map data for Vvardenfell (Morrowind)
* Murkmire wayshrine fixes*
* Northern Elsweyr step coordinate fixes
* Fixed a bug on steps 2 and 6 of the Grahtwood guide
+ Added boilerplate to prevent addon from throwing an error when quest steps value is nil

Development / Github
* General code clean-up
* Dropped Zygor's old version 1.4. Versions will now appear as a whole number (e.g., 891) representing the total number of Github check-ins up to the current addon version

* thanks snichols7778!

# 2021/06/02 Changelog 840
* A decision tip added to the turn-in step for the Blackwood quest "Relics and Rumblings"
* Updated The Reach's map data and quest steps
* Updated the Development Guide on the project's Github

# 2021/06/02 Changelog 828
* Clarified an early Blackwood step to make it easier to find the objective (One step added. Decrease you progress by one step to realign your progress.)

# 2021/06/01 Changelog 826
New Guides by snichols7778!
* Blackwood
* Includes new Isle of Balfiera intro tutorial for new players
* Includes the Prologue quest "A Mortal's Touch" for all three factions
* Includes companion guides for Bastian Hallix and Mirri Elendis
* Includes 16/18 skyshards (The remaining two are found in public dungeons Zeithar's Abbey and The Silent Halls)
* Southern Elsweyr
* Craglorn

Updates and Additions
* Addon's name officially changed
* Zygor's logo changed to new Community Leveling Guides logo
* Updated map data for Western Skyrim
* Updated map data for The Reach, including the Blackreach caverns
* Bankorai guide 30% remastered (Note: If you're going through the zone with the addon, please move the steps back or forwards to realign with your progress)
* Northern Elsweyr's description updated
* Moved Orsinium to the main list and renamed to Wrothgar

Fixes
* Fixed map data for The Reach, including the Blackreach caverns
* Fixed the width and height for the new guide suggestion popup
* Fixed the width and height for the help popup
* Fixed a bug in the Main Quests Only guides

Development / Github
* General code clean-up
* Updated the Development Guide on the project's Github
* Created a range function for handling varying distances in zone maps
* Code updated to reduce its memory footprint
* Created new addon functions (helped with Isle of Balfiera's strange zone data):
* ZGV.Utils.MapIndex()
* ZGV.Utils.GetMapNameByDDSFile()
* ZGV.Utils.IsIntroTutorial()

# 2021/04/05 Changelog 707
* Fixed a bug where the arrow in the Bankorai zone pointed to the wrong location

# 2021/04/04 Changelog 702
* Addon now sports a new Zygor Community logo

The following zones have been updated by snichols7778!:
* Auridon
* Glenumbra
* Grahtwood
* Greenshade
* Malabal Tor
* Reaper's March
* Stonefalls
* Summerset
* The Wailing Prison

# 2021/03/30 Changelog 672
* Fixed a bug in the Western Skyrim newbie intro guide (Note: this fix adds 3-4 steps to the Western Skyrim guide. If you're using that guide, go back 3-4 steps to realign with your current progress.)

# 2021/03/27 Changelog 669
* Western Skyrim (Greymoor) and The Reach (Markarth) guides by snichols7778

# 2020/06/29 Changelog 575 (courtesy of Krandor1)
* Added Stormhaven, Bleakrock, Glenumbra
* Added Auridon MQO Guide 
* Misc Auridon changes
* Updated various coordinates

# 2020/06/29 Changelog 574
* Fix issue in Goal.lua Line 367 reported by Sekkerhund

# 2020/05/10 Changelog 573
* Removed LibStub Requirement
* Removed Embedded Libraries

# 2020/04/26 Changelog 572
* Fixes error related to AceTimer-3.0
* Updated API version for Greymoor

# 2020/03/06 Changelog 566
* Removed a noisy debugger

# 2020/03/03 Changelog 565
* Restored AceTimer (Critical update)

# 2020/03/02 Changelog 564
* LibGPS r21, LibMapPing r12, and LibStub r7 all updated for Harrowstorm (5.3.4)
* Deprecated LibGPS and AceTimer
* Removed the popup that appears after completing a guide
* Identified where lua-bit-numberlua is used in Parser

# 2020/03/02 Changelog 562
* Revamped Summerset guide!

# 2019/11/2 Changelog 472
* Updated LibGPS, LibMapPing, LibStub (a few of the main supporting libraries) to their latest versions

# 2019/11/2 Changelog 471
* Updated API version for Dragonhold

# 2019/08/12 Changelog 470
* Updated API version for Scalebreaker

# 2019/07/27 Changelog 469
* Elsweyr added to Addon's authorship credits

# 2019/07/27 Changelog 468
* Changed Addon's cover art to Elsweyr

# 2019/07/27 Changelog 465
* Elsweyr guide!

<!--
### Coming Soon

* Main Quest Only Guides
* Skyshards, Delves, and Lorebooks Stand-Alone Guide.
-->

# Development Guide

### ZGESO Version Breakdown

For example, 949

* `949` = Community version based on the total number of Github commits (This is the version number on the ESOUI website)

----

### Development HOW-TO


`goto wailingprison4_base 50.00,50.00`
* `goto` = Tells the arrow where to point. Auto-advances to the next step if nothing but goto and step exist.
* `wailingprison4_base` = the current map's DDS reference. It only works when the user is in the zone.
* `50.00,50.00` = the floating-point x and y coordinates. Decimal values are optional but highly recommended for precision.
* Tip: Once the map's DDS is declared, you can exclude it in subsequent steps as long as the player stays in that zone. (e.g., `goto 50.00,50.00`)

#### These actions auto-advance to the next step

`accept` = Accept quests.<br/>
`turnin` = Turn in quests.<br/>
`wayshrine` = Discover wayshrines.<br/>
`step` = Declares a guide step (Auto-advance based on `goto` and `step` or if the condition of another action like wayshrine or accept is met).<br/>


#### These actions are purely visual and do not auto-advance to the next step

`talk` = Talk to NPCs.<br/>
`click` = Clicking objects and doors.<br/>
`'` = Adds general information.<br/>


#### ZGESO Functions of note

`ZGV.Utils.IsIntroTutorial()` = (functions.lua) Quickly indentifies the intro tutorial for new players. Currently configured for the Isle of Balfiera.


#### Goal Handlers - requires a pipe | in front to activate (e.g. |tip, |q, |count)

`|q` = Creates a step in ZGESO's progress bar. It also denotes the current step's quest.

`/` = Placed on the same line after `|q`. The slash checks for a completed task in the Quest Journal for the current step's quest. Important: Must match the task word-for-word, space-for-space to register as completed.

`|tip` = Handler for displaying tips in a small font. Note: placing a `|tip` in a `goto` step prevents the action from automatically going to the next step when meeting the condition.

`|next Aldmeri Dominion Leveling Guides\\Khenarthi's Roost` = Instructs ZGESO to go to another guide
* `next` = Handler that tells the guide to load another guide
* `Aldmeri Dominion Leveling Guides\\Khenarthi's Roost` = the RegisterGuide to load

`|count #` = Handler to track a sequence of objectives

For Example:
`|q The Waking Darkness/.*Cleanse the Mausoleums.* |count 2`
* `q` Quest tracking
* `The Waking Darkness` Name of quest
* `/.*Cleanse the Mausoleums.*` Quest objective (Formatting required `/.*Name of Objectve.*`)
* `|count 2` Current objective number

`|only if` and `|only if not` = Conditional handlers

For example<br>
`|only if ZGV.Utils.GetPlayerPreciseLevel() < 6 and _G.GetCurrentMapZoneIndex() == 712`<br>
Only allow this step if the player's precise level is less than 6 and the current map zone ID equals 712 (Northern Elsweyr)

`|only if not ZGV.QuestTracker:IsQuestComplete("A City in Black")`<br>
Only allow this step if the player hasn't completed the quest.

`|only if not ZGV.Quests:HasQuest("A City in Black") or ZGV.Quests:IsQuestComplete("A City in Black")`<br>
Only allow this step if the player doesn't have the quest or hasn't completed the quest.

`|only if ZGV.Utils.GetFaction("player","notvet")=="EP"`<br>
Only allow this step if the player's faction is Ebonheart Pact.

`|only if ZGV.Utils.GetFaction("player","notvet")=="AD"`<br>
Only allow this step if the player's faction is Aldmeri Dominion.

`|only if ZGV.Utils.GetFaction("player","notvet")=="DC"`<br>
Only allow this step if the player's faction is Daggerfall Covenant.

`|only not ZGV.Quests:HasQuest("A City in Black")`<br>
It appears to be the best method for accepting quests. `|only if not` causes the step to stick after accepting the quest.

`|only ZGV.Quests:HasQuest("A City in Black")`<br>
It appears to be the best method for quest steps. `|only if` causes the step to stick after accepting the quest.

`|or` = Handler for dialog choices. Important: You need to put the |or handler on each selection.

For example<br>
```
'Choose either a Marine or Wizard to help you
|tip It doesn't matter, just personal preference.
'Talk to either _Sergeant Firion_ or _Gathwen_
'Choose the Marine to help you |q The Tempest Unleashed/The Marine |or
'_OR_
'Choose the Wizard to help you |q The Tempest Unleashed/The Wizard |or
step
```

*To see a complete list of Types and Handlers, review Goal.lua. If you have questions, feel free to ask.*

----

### Slash commands

* `/re` = /reloadui
* `/zgpos` - For city and delve data. Also displays the map's correct DDS filename.
* `/zgpos gps` - For general map data. Works in any map.
* `/dump ZGFunctionName(arguments)` - A way to execute ESO's and ZGESO's public functions<br> (e.g. `/dump ZGV.Pointer:GetDistToCoords(alinor_base,48.80,54.64)`)

#### /dump functions of note:

* `/dump ZGV.Data:GetQuestIdByName("A City in Black")` - Returns the Quest ID
* `/dump ZGV.Quests:IsQuestComplete("A City in Black")` - Returns a boolean
* `/dump ZGV.Quests:HasQuest("A City in Black")` - Returns a boolean
* `/dump d(GetCurrentMapIndex())` - Returns the zone's ID. Tip: some functions require the `d()` command to display the output.


----

### Addon Resource

* <a href="https://esoui.com/downloads/fileinfo.php?id=2062#info" target="_blank">Addon page on ESO UI</a>
* <a href="https://www.zygorguides.com/forum/forumdisplay.php?84-Leveling-Guides" target="_blank">Discussion forum related to Zygor's original ESO</a> (Deprecated, I no longer visit)

----

### Additional Resources

* https://esodata.uesp.net/100035/functioncalls.txt
* https://esodata.uesp.net/100035/
* https://wiki.esoui.com/API
* https://wiki.esoui.com/Texture_List
* https://mothereff.in/lua-minifier
* https://esomap.uesp.net/
* https://en.uesp.net/wiki
* https://game-maps.com/ESO/The-Elder-Scrolls-Online.asp
* https://andylangton.co.uk/tools/colour-converter
